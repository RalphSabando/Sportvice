<ion-header [translucent]="true" mode="ios">
  <ion-toolbar>
    <ion-title color="bleu">Modifier mon profil</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" mode="ios">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title color="bleu" size="large">Modifier mon profil</ion-title>
    </ion-toolbar>
  </ion-header>

    
        <div class="contentbox">
            <ion-item lines="none">
                <ion-avatar slot="start">
                    <img [src]="image || 'assets/profile.jpg'"> 
                </ion-avatar>
            </ion-item>
            <br>  
            <ion-item> 
                <ion-label position="stacked">Votre pseudo</ion-label>
                <ion-input [(ngModel)]="name" placeholder="Votre pseudo..."></ion-input>
            </ion-item>
            <ion-item>
                <ion-textarea [(ngModel)]="description" placeholder="Votre objectif sportif..." rows="4"></ion-textarea>
            </ion-item> 
             
            <br> 
            <div class="publishbox">    
                <ion-toolbar>
                    <ion-button color="green" slot="end" (click)="getImage()">Afficher l'image</ion-button>
                    <ion-button color="danger" slot="end" (click)="saveData()">    
                        Enregistrer  
                    </ion-button>
                </ion-toolbar>
            </div> 
        
        
        <!-- Upload Profil Image  "delete File"-->  
            <ion-card class="ion-text-center" *ngIf="!isFileUploading && !isFileUploaded">
              <ion-card-header>
                <ion-card-title color="bleu">Choisir une image de profil</ion-card-title>
              </ion-card-header>
              <ion-card-content>
                <ion-button color="light" shape="round" size="medium">
                  <input type="file" (change)="uploadImage($event.target.files)"/>
                </ion-button>
                
                <br>
              </ion-card-content> 
            </ion-card>
            
             <!-- File upload progress bar "delete Pipe"  -->
                <div *ngIf="percentageVal | async as percentage">
                  Progress: {{ percentage | number }}%
                  <ion-progress-bar value="{{ percentage / 100 }}"></ion-progress-bar>
                </div>
            
                <div *ngIf="trackSnapshot | async as snap">
                  File size: {{ snap.totalBytes | formatFileSizePipe }}  
                  
                  Data transfered: {{ snap.bytesTransferred | formatFileSizePipe }}
                </div>  
        
        </div> 


</ion-content> 
